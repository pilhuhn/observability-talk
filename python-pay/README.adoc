= README

This is a sample project to illustrate some aspects of using https://opentelemetry.io/docs/instrumentation/python/[OpenTelemetry in Python].

server-minimal.py is the basic code for a http server, which is then in turn instrumented.

server5.py is the full code after all instrumentation.

kaf-relay.py is the code for some Kafka related instrumentation

== Posts

See also https://pilhuhn.homeip.net/docs/distributed-tracing-quarkus/


## Install Python

[shell]
----
python3 -m venv ./venv
source venv/bin/activate
pip install -r requirements.txt
----

## Run full code

[shell]
----
python server5.py \
   -pg.host=localhost \
   -otel_host=localhost \
   -other_hostport=localhost:8000
----

## Container

[shell]
----
podman run -pg_host=1.2.3.4 \
           -otel_host=1.2.3.4 \
           -other_hostport=localhost:8000 \
           quay.io/pilhuhn/python-pay
----